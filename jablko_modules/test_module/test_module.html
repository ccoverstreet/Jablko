<script>
	const test_module = {
		send_message: async function() {
			const message_text = document.getElementById("test_module_input").value;
			const message_username = document.getElementById("test_module_username").value;

			const raw_response = await fetch("/jablko_modules/test_module/send_message", {
				method: "POST",
				headers: {
					"Accept": "application/json",
					"Content-Type": "application/json"
				},
				body: JSON.stringify({message: message_text, username: message_username})
			})
				.catch(error => {
					console.log(error);
				})

			const response = await raw_response.json();
			console.log(response);
			if (response.status == "fail") {
				alert("Unable to send message");
			}
		}
	}
</script>
<div id="test_module" class="jablko_module_card">
	<div class="card_title">Test Module</div>
	<input id="test_module_username">
	<div style="display: grid; grid-template-columns: 50% 50%">
		<div class="label">Send Message:</div>
		<input id="test_module_input">
	</div>
	<button onclick="test_module.send_message()">Send</button>
</div>
`
