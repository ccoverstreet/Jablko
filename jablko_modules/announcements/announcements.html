<script> const announcements = {
		send_message: async function() {
			const input_box = document.getElementById("announcements_input");
			const message_text = input_box.value;
			input_box.value = "";

			const raw_response = await fetch("/jablko_modules/announcements/send_message", {
				method: "POST",
				headers: {
					"Accept": "application/json",
					"Content-Type": "application/json"
				},
				body: JSON.stringify({message: message_text})
			})
				.catch(error => {
					console.log(error);
				})

			const response = await raw_response.json();
			console.log(response);
			if (response.status == "fail") {
				alert("Unable to send message");
			}
		}
	}
</script>
<div id="announcements" class="jablko_module_card" style="padding-bottom: 10px">
	<h1 class="card_title" style="background: url('/icons/announcements_icon.svg') right; background-size: contain; background-repeat: no-repeat;">Announcements</h1>
	<hr>
	<div style="display: grid; grid-template-columns: 80% 20%;">
		<input id="announcements_input" style="margin-right: 10px; margin-left: 10px">
		<button onclick="announcements.send_message()" style="background-color: #44bd32; color: #f5f6fa; margin-right: 10px; margin-left: 10px;">Send</button>
	</div>
</div>
