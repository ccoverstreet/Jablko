<script> const announcements = {
		send_message: async function() {
			const message_text = document.getElementById("announcements_input").value;

			const raw_response = await fetch("/jablko_modules/announcements/send_message", {
				method: "POST",
				headers: {
					"Accept": "application/json",
					"Content-Type": "application/json"
				},
				body: JSON.stringify({message: message_text})
			})
				.catch(error => {
					console.log(error);
				})

			const response = await raw_response.json();
			console.log(response);
			if (response.status == "fail") {
				alert("Unable to send message");
			}
		}
	}
</script>
<div id="announcements" class="jablko_module_card">
	<div class="card_title">Announcements</div>
	<div style="display: grid; grid-template-columns: 50% 50%;">
		<div class="label">Send Message:</div>
		<input id="announcements_input" style="margin-right: 20px">
	</div>
	<button onclick="announcements.send_message()">Send</button>
	<p>Send messages using GroupMe bot</p>
</div>
`
