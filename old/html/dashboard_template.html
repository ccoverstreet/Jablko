<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" type="text/css" href="assets/common.css">

		<!-- ==================== Web Components ==================== -->
		<script type="text/javascript">
			if (document.location.hash === "" || document.location.hash === "#") {
				document.location.hash = "#dashboard";
			}

			const WCMAP = {};

$WEBCOMPONENTS

			document.addEventListener("DOMContentLoaded", () => {
				const holder = document.getElementById("mod-holder");

				// Iterate through all module web components in WCMAP
				// Register HTMLElement with document and add to mod-holder
				const modNames = Object.keys(WCMAP);
				for (name of modNames) {
					console.log(`Creating card for module "${name}"`);

					customElements.define(name, WCMAP[name]);

					const modElem = document.createElement(name);
					holder.appendChild(modElem)
				}

				for (var i = 0; i < 10; i++) {
					const modElem = document.createElement("jmod-example");
					holder.appendChild(modElem)
				}
			})

		</script>
		<!-- ==================== END Web Components ==================== -->

		<script type="text/javascript">
			function tabChange(elem) {
				const hash = "tab-" + document.location.hash.slice(1);
				console.log(hash);

				const tabContents = document.querySelectorAll(".tab-content");

				for (const tab of tabContents) {
					if (tab.id === hash) {
						tab.style.display = "block"
					} else {
						tab.style.display = "none"
					}
				}
			}
		</script>

	</head>


	<body onhashchange="tabChange()">

		<header id="taskbar">
			<a id="dashboard" href="#dashboard">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M20 19v-8.5a1 1 0 0 0-.4-.8l-7-5.25a1 1 0 0 0-1.2 0l-7 5.25a1 1 0 0 0-.4.8V19a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1z"/></svg>
			</a>


			<a id="settings" href="#settings">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M14 21h-4l-.551-2.48a6.991 6.991 0 0 1-1.819-1.05l-2.424.763-2-3.464 1.872-1.718a7.055 7.055 0 0 1 0-2.1L3.206 9.232l2-3.464 2.424.763A6.992 6.992 0 0 1 9.45 5.48L10 3h4l.551 2.48a6.992 6.992 0 0 1 1.819 1.05l2.424-.763 2 3.464-1.872 1.718a7.05 7.05 0 0 1 0 2.1l1.872 1.718-2 3.464-2.424-.763a6.99 6.99 0 0 1-1.819 1.052L14 21z"/><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1"/></svg>	
			</a>

			<div id="taskbar-title">
				<a href="https://github.com/ccoverstreet/Jablko">Jablko</a>
			</div>
		</header>


		<div id="tab-dashboard" class="tab-content" style="display: block">
			<div id="mod-holder"></div>
		</div>

		<div id="tab-settings" class="tab-content">
			SETTINGS
		</div>

	</body>
</html>
