<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" type="text/css" href="assets/common.css">

		<!-- ==================== Web Components ==================== -->
		<script type="text/javascript">
			if (document.location.hash === "" || document.location.hash === "#") {
				document.location.hash = "#dashboard";
			}

			const WCMAP = {};

$WEBCOMPONENTS

			document.addEventListener("DOMContentLoaded", () => {
				const holder = document.getElementById("mod-holder");

				// Iterate through all module web components in WCMAP
				// Register HTMLElement with document and add to mod-holder
				const modNames = Object.keys(WCMAP);
				for (name of modNames) {
					console.log(`Creating card for module "${name}"`);

					customElements.define(name, WCMAP[name]);

					const modElem = document.createElement(name);
					holder.appendChild(modElem)
				}

				for (var i = 0; i < 10; i++) {
					const modElem = document.createElement("jmod-example");
					holder.appendChild(modElem)
				}
			})

		</script>
		<!-- ==================== END Web Components ==================== -->

		<script type="text/javascript">
			function tabChange(elem) {
				const hash = "tab-" + document.location.hash.slice(1);
				console.log(hash);

				const tabContents = document.querySelectorAll(".tab-content");

				for (const tab of tabContents) {
					if (tab.id === hash) {
						tab.style.display = "block"
					} else {
						tab.style.display = "none"
					}
				}
			}
		</script>

	</head>


	<body onhashchange="tabChange()">

		<header id="taskbar">
			<a id="dashboard" href="#dashboard">Dashboard</a>

			<a id="settings" href="#settings">Settings</a>

			<div id="taskbar-title">
				<a href="https://github.com/ccoverstreet/Jablko">
				Jablko
				</a>
			</div>
		</header>


		<div id="tab-dashboard" class="tab-content" style="display: block">
			<div id="mod-holder"></div>
		</div>

		<div id="tab-settings" class="tab-content">
			SETTINGS
		</div>

	</body>
</html>
