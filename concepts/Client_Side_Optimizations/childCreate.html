<!DOCTYPE html>
<html>
	<head>
		<script>
			"use strict";
			const exModule = function(config) {
				this.id = config.id;
				this.title = config.title;

				this.card = function() {
					console.time("func1");
					var newDiv = document.createElement("div");
					newDiv.id = this.id;
					newDiv.innerHTML = `

					<div id="${this.id}_mod">
						<h1>${this.title}</h1>
					</div>
					`
					console.timeEnd("func1");
					return newDiv;
				}.bind(this);
			}

			var mods = []

			document.addEventListener("DOMContentLoaded", function() {
				console.time("WHOLE");
				var holderElem = document.getElementById("holder");

				var fragment = document.createDocumentFragment();
				for (var i = 0; i < 100; i++) {
					console.time("INSERT");
					mods.push(new exModule({id: i, title: "ASD" + i}));
					fragment.appendChild(mods[i].card());
					console.timeEnd("INSERT");
				}

				holderElem.appendChild(fragment);
				console.timeEnd("WHOLE");
			});
		</script>
	</head>
	<body>
		<div id="holder">
		</div>
	</body>
</html>
